#include<stdio.h>
#include<time.h>
#include<stdlib.h>
#include <sys/time.h>
double microsegundos() { /* obtiene la hora del sistema en microsegundos */
    struct timeval t;
    if (gettimeofday(&t, NULL) < 0 )
        return 0.0;
    return (t.tv_usec + t.tv_sec * 1000000.0);
}

int sumaSubMax1(int v[], int n){

    int sumaMax=0;
    for(int i=0;i<n;i++){
        int estaSuma=0;
        for(int j=i;j<n;j ++){
            estaSuma = estaSuma + v[j];
            if(estaSuma>sumaMax)
                sumaMax=estaSuma;
        }
    }
    return sumaMax;
}



int sumaSubMax2(int v[],int n){
    int estaSuma = 0,sumaMax = 0;
    for (int j = 0; j < n; ++j) {
        estaSuma = estaSuma + v[j];
        if (estaSuma > sumaMax){
            sumaMax = estaSuma;
        }else if(estaSuma < 0 ) {
            estaSuma = 0;
        }
    }
    return sumaMax;
}

void inicializar_semilla() {
    srand(time(NULL));
    /* se establece la semilla de una nueva serie de enteros pseudo-aleatorios */
}

void aleatorio(int v [], int n) {
    int i, m=2*n+1;
    for (i=0; i < n; i++)
        v[i] = (rand() % m) - n;
    /* se generan nÃºmeros pseudoaleatorio entre -n y +n */
}

void listar_vector(int v[], int n){
    for(int i=0;i<n;i++){
        if (v[i]<0)
            printf("%d",v[i]);
        else
            printf(" %d",v[i]);
    }
}
void test1() {
/* ... */
}
void test2() {
    int i, a, b;
    double t1,c,d;
    int v[500];
    printf("test\n");
    printf("%33s%15s%15s%15s%15s\n", "", "sumaSubMax1", "sumaSubMax2","tiempo1","tiempo2");
    for (i=0; i<10; i++) {
        aleatorio(v, 9);
        listar_vector(v, 9);
        t1 = microsegundos();
        a = sumaSubMax1(v, 9);
        c = microsegundos() - t1;
        t1 = microsegundos();
        b = sumaSubMax2(v, 9);
        d = microsegundos() - t1;
        printf("             %15d%15d%15d%15d\n", a, b,c,d);
    }
}
int main() {
    inicializar_semilla();
    test1();
    test2();
    return 0;
}
